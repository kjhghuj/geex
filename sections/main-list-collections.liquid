{% schema %}
{
  "name": "Collections List",
  "settings": [
    {
      "type": "text",
      "id": "title",
      "label": "Heading",
      "default": "All Categories"
    }
  ]
}
{% endschema %}

<div class="max-w-7xl mx-auto px-4 py-24 animate-fade-in">
    <div class="text-center mb-16">
        <h1 class="text-4xl font-bold text-slate-900 mb-4">{{ section.settings.title }}</h1>
        <div class="w-12 h-1 bg-sky-500 mx-auto rounded-full"></div>
    </div>

    <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8">
        {% for collection in collections %}
            {% unless collection.handle == 'frontpage' %} <a href="{{ collection.url }}" class="group block relative overflow-hidden rounded-3xl bg-white border border-gray-100 shadow-sm hover:shadow-xl hover:shadow-sky-50 transition-all duration-300">
                    <div class="aspect-video overflow-hidden bg-gray-100">
                        {% if collection.image %}
                            {% assign collection_image = collection.image | image_url: width: 800 %}
                            <img 
                                src="{{ collection_image }}" 
                                alt="{{ collection.title | escape }}" 
                                class="w-full h-full object-cover transition-transform duration-700 group-hover:scale-105"
                                width="800"
                                height="450"
                                loading="lazy"
                            >
                        {% elsif collection.products.first.featured_image %}
                             {% assign product_image = collection.products.first.featured_image | image_url: width: 800 %}
                             <img 
                                src="{{ product_image }}" 
                                alt="{{ collection.title | escape }}" 
                                class="w-full h-full object-cover transition-transform duration-700 group-hover:scale-105"
                                width="800"
                                height="450"
                                loading="lazy"
                             >
                        {% else %}
                             <div class="w-full h-full flex items-center justify-center text-gray-300">
                                 <svg xmlns="http://www.w3.org/2000/svg" width="48" height="48" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1" stroke-linecap="round" stroke-linejoin="round"><rect x="3" y="3" width="18" height="18" rx="2" ry="2"/><circle cx="8.5" cy="8.5" r="1.5"/><polyline points="21 15 16 10 5 21"/></svg>
                             </div>
                        {% endif %}
                    </div>
                    <div class="p-6">
                        <h3 class="text-xl font-bold text-slate-900 group-hover:text-sky-500 transition-colors flex items-center justify-between">
                            {{ collection.title }}
                            <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="text-gray-300 group-hover:text-sky-500 transform group-hover:translate-x-1 transition-all"><path d="M5 12h14"/><path d="m12 5 7 7-7 7"/></svg>
                        </h3>
                        <p class="text-gray-500 text-sm mt-2">{{ collection.products_count }} items</p>
                    </div>
                </a>
            {% endunless %}
        {% endfor %}
    </div>
</div>